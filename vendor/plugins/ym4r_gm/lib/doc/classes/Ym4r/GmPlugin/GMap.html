<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Ym4r::GmPlugin::GMap</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Ym4r::GmPlugin::GMap</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/gm_plugin/map_rb.html">
                gm_plugin/map.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Representing the Google Maps API class GMap2.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000095">add_map_type_init</a>&nbsp;&nbsp;
      <a href="#M000091">center_zoom_init</a>&nbsp;&nbsp;
      <a href="#M000093">center_zoom_on_bounds_init</a>&nbsp;&nbsp;
      <a href="#M000092">center_zoom_on_points_init</a>&nbsp;&nbsp;
      <a href="#M000089">control_init</a>&nbsp;&nbsp;
      <a href="#M000107">create</a>&nbsp;&nbsp;
      <a href="#M000105">declare_global_init</a>&nbsp;&nbsp;
      <a href="#M000098">declare_init</a>&nbsp;&nbsp;
      <a href="#M000086">div</a>&nbsp;&nbsp;
      <a href="#M000103">event_global_init</a>&nbsp;&nbsp;
      <a href="#M000102">event_init</a>&nbsp;&nbsp;
      <a href="#M000085">header</a>&nbsp;&nbsp;
      <a href="#M000084">header</a>&nbsp;&nbsp;
      <a href="#M000087">header_width_height</a>&nbsp;&nbsp;
      <a href="#M000101">icon_global_init</a>&nbsp;&nbsp;
      <a href="#M000100">icon_init</a>&nbsp;&nbsp;
      <a href="#M000090">interface_init</a>&nbsp;&nbsp;
      <a href="#M000096">map_type_init</a>&nbsp;&nbsp;
      <a href="#M000083">new</a>&nbsp;&nbsp;
      <a href="#M000104">overlay_global_init</a>&nbsp;&nbsp;
      <a href="#M000094">overlay_init</a>&nbsp;&nbsp;
      <a href="#M000099">record_global_init</a>&nbsp;&nbsp;
      <a href="#M000088">record_init</a>&nbsp;&nbsp;
      <a href="#M000097">set_map_type_init</a>&nbsp;&nbsp;
      <a href="#M000106">to_html</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="MappingObject.html">MappingObject</a></span>
      </div>
    </div>

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">VML_NAMESPACE</td>
          <td>=</td>
          <td class="context-item-value">&quot;xmlns:v=\&quot;urn:schemas-microsoft-com:vml\&quot;&quot;</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
A constant containing the declaration of the VML namespace, necessary to
display polylines under IE.

</td>
        </tr>
        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">container</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The id of the DIV that will contain the map in the HTML page.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000085" class="method-detail">
        <a name="M000085"></a>

        <div class="method-heading">
          <a href="GMap.src/M000085.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000085.html');return false;">
          <span class="method-name">header</span><span class="method-args">(options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Outputs the <a href="GMap.html#M000084">header</a> necessary to use the
Google Maps API, by including the JS files of the API, as well as a file
containing YM4R/GM helper functions. By default, it also outputs a style
declaration for VML elements. This default can be overriddent by passing
<tt>:with_vml =&gt; false</tt> as option to the method. You can also pass a
<tt>:host</tt> option in order to select the correct API key for the
location where your app is currently running, in case the current
environment has multiple possible keys. Usually, in this case, you should
pass it <tt>@request.host</tt>. If you have defined only one API key for
the current environment, the <tt>:host</tt> option is ignored. Finally you
can override all the key settings in the configuration by passing a value
to the <tt>:key</tt> key. You can pass a language for the map type buttons
with the <tt>:hl</tt> option (possible values are: Japanese (ja), French
(fr), German (de), Italian (it), Spanish (es), Catalan (ca), Basque (eu)
and Galician (gl): no values means english). Finally, you can pass
<tt>:local_search =&gt; true</tt> to get the <a
href="GMap.html#M000084">header</a> css and js information needed for the
local search control. If you do want local search you must also add
<tt>:local_search =&gt; true</tt> to the @map.control_init method.
</p>
        </div>
      </div>

      <div id="method-M000083" class="method-detail">
        <a name="M000083"></a>

        <div class="method-heading">
          <a href="GMap.src/M000083.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000083.html');return false;">
          <span class="method-name">new</span><span class="method-args">(container, variable = &quot;map&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
By default the map in the HTML page will be globally accessible with the
name <tt>map</tt>.
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000095" class="method-detail">
        <a name="M000095"></a>

        <div class="method-heading">
          <a href="GMap.src/M000095.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000095.html');return false;">
          <span class="method-name">add_map_type_init</span><span class="method-args">(map_type, add = true)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets up a <a href="GMap.html#M000083">new</a> map type. If <tt>add</tt> is
false, all the other map types of the map are wiped out. If you want to
access the map type in other methods, you should declare the map type first
(with <tt><a href="GMap.html#M000098">declare_init</a></tt>).
</p>
        </div>
      </div>

      <div id="method-M000091" class="method-detail">
        <a name="M000091"></a>

        <div class="method-heading">
          <a href="GMap.src/M000091.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000091.html');return false;">
          <span class="method-name">center_zoom_init</span><span class="method-args">(center, zoom)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initializes the initial center and zoom of the map. <tt>center</tt> can be
both a <a href="GLatLng.html">GLatLng</a> object or a 2-float array.
</p>
        </div>
      </div>

      <div id="method-M000093" class="method-detail">
        <a name="M000093"></a>

        <div class="method-heading">
          <a href="GMap.src/M000093.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000093.html');return false;">
          <span class="method-name">center_zoom_on_bounds_init</span><span class="method-args">(latlngbounds)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Center and zoom based on the bbox corners. Pass a <a
href="GLatLngBounds.html">GLatLngBounds</a> object, an array of 2D
coordinates (sw and ne) or an array of <a href="GLatLng.html">GLatLng</a>
objects (sw and ne).
</p>
        </div>
      </div>

      <div id="method-M000092" class="method-detail">
        <a name="M000092"></a>

        <div class="method-heading">
          <a href="GMap.src/M000092.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000092.html');return false;">
          <span class="method-name">center_zoom_on_points_init</span><span class="method-args">(*points)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Center and zoom based on the coordinates passed as argument (either 2D
arrays or <a href="GLatLng.html">GLatLng</a> objects)
</p>
        </div>
      </div>

      <div id="method-M000089" class="method-detail">
        <a name="M000089"></a>

        <div class="method-heading">
          <a href="GMap.src/M000089.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000089.html');return false;">
          <span class="method-name">control_init</span><span class="method-args">(controls = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initializes the controls: you can pass a hash with keys
<tt>:small_map</tt>, <tt>:large_map</tt>, <tt>:small_zoom</tt>,
<tt>:scale</tt>, <tt>:map_type</tt>, <tt>:overview_map</tt> and a boolean
value as the value (usually true, since the control is not displayed by
default), <tt>:local_search</tt> and <tt>:local_search_options</tt>
</p>
        </div>
      </div>

      <div id="method-M000107" class="method-detail">
        <a name="M000107"></a>

        <div class="method-heading">
          <a href="GMap.src/M000107.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000107.html');return false;">
          <span class="method-name">create</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Outputs in JavaScript the creation of a GMap2 object
</p>
        </div>
      </div>

      <div id="method-M000105" class="method-detail">
        <a name="M000105"></a>

        <div class="method-heading">
          <a href="GMap.src/M000105.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000105.html');return false;">
          <span class="method-name">declare_global_init</span><span class="method-args">(variable,name, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Globally declare a <a href="MappingObject.html">MappingObject</a> with
variable name &quot;name&quot;. Option <tt>:local_construction</tt> should
be passed if the construction has to be done inside the onload callback
method (for exsample if it depends on the <a href="GMap.html">GMap</a> to
be initialized)
</p>
        </div>
      </div>

      <div id="method-M000098" class="method-detail">
        <a name="M000098"></a>

        <div class="method-heading">
          <a href="GMap.src/M000098.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000098.html');return false;">
          <span class="method-name">declare_init</span><span class="method-args">(variable, name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Locally declare a <a href="MappingObject.html">MappingObject</a> with
variable name &quot;name&quot;
</p>
        </div>
      </div>

      <div id="method-M000086" class="method-detail">
        <a name="M000086"></a>

        <div class="method-heading">
          <a href="GMap.src/M000086.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000086.html');return false;">
          <span class="method-name">div</span><span class="method-args">(options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Outputs the &lt;<a href="GMap.html#M000086">div</a> id=&#8230;&gt;&lt;/<a
href="GMap.html#M000086">div</a>&gt; which has been configured to contain
the map. You can pass <tt>:width</tt> and <tt>:height</tt> as options to
output this in the style attribute of the DIV element (you could also
achieve the same effect by putting the dimension info into a CSS or using
the instance method <a
href="GMap.html#M000087">GMap#header_width_height</a>). You can aslo pass
<tt>:class</tt> to set the classname of the <a
href="GMap.html#M000086">div</a>.
</p>
        </div>
      </div>

      <div id="method-M000103" class="method-detail">
        <a name="M000103"></a>

        <div class="method-heading">
          <a href="GMap.src/M000103.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000103.html');return false;">
          <span class="method-name">event_global_init</span><span class="method-args">(object,event,callback)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Registers an event globally
</p>
        </div>
      </div>

      <div id="method-M000102" class="method-detail">
        <a name="M000102"></a>

        <div class="method-heading">
          <a href="GMap.src/M000102.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000102.html');return false;">
          <span class="method-name">event_init</span><span class="method-args">(object,event,callback)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Registers an event
</p>
        </div>
      </div>

      <div id="method-M000084" class="method-detail">
        <a name="M000084"></a>

        <div class="method-heading">
          <a href="GMap.src/M000084.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000084.html');return false;">
          <span class="method-name">header</span><span class="method-args">(with_vml = true)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Deprecated. Use the static version instead.
</p>
        </div>
      </div>

      <div id="method-M000087" class="method-detail">
        <a name="M000087"></a>

        <div class="method-heading">
          <a href="GMap.src/M000087.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000087.html');return false;">
          <span class="method-name">header_width_height</span><span class="method-args">(width,height)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Outputs a style declaration setting the dimensions of the DIV container of
the map. This info can also be set manually in a CSS.
</p>
        </div>
      </div>

      <div id="method-M000101" class="method-detail">
        <a name="M000101"></a>

        <div class="method-heading">
          <a href="GMap.src/M000101.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000101.html');return false;">
          <span class="method-name">icon_global_init</span><span class="method-args">(icon , name, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initializes an icon and makes it globally accessible through the JavaScript
variable of name <tt>variable</tt>.
</p>
        </div>
      </div>

      <div id="method-M000100" class="method-detail">
        <a name="M000100"></a>

        <div class="method-heading">
          <a href="GMap.src/M000100.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000100.html');return false;">
          <span class="method-name">icon_init</span><span class="method-args">(icon , name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Deprecated. Use <a href="GMap.html#M000101">icon_global_init</a> instead.
</p>
        </div>
      </div>

      <div id="method-M000090" class="method-detail">
        <a name="M000090"></a>

        <div class="method-heading">
          <a href="GMap.src/M000090.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000090.html');return false;">
          <span class="method-name">interface_init</span><span class="method-args">(interface = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initializes the interface configuration: double-click zoom, dragging,
continuous zoom,&#8230; You can pass a hash with keys <tt>:dragging</tt>,
<tt>:info_window</tt>, <tt>:double_click_zoom</tt>,
<tt>:continuous_zoom</tt> and <tt>:scroll_wheel_zoom</tt>. The values
should be true or false. Check the google maps API doc to know what the
default values are.
</p>
        </div>
      </div>

      <div id="method-M000096" class="method-detail">
        <a name="M000096"></a>

        <div class="method-heading">
          <span class="method-name">map_type_init</span><span class="method-args">(map_type, add = true)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="GMap.html#M000095">add_map_type_init</a>
</p>
        </div>
      </div>

      <div id="method-M000104" class="method-detail">
        <a name="M000104"></a>

        <div class="method-heading">
          <a href="GMap.src/M000104.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000104.html');return false;">
          <span class="method-name">overlay_global_init</span><span class="method-args">(overlay,name, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Declares the overlay globally with name <tt>name</tt>
</p>
        </div>
      </div>

      <div id="method-M000094" class="method-detail">
        <a name="M000094"></a>

        <div class="method-heading">
          <a href="GMap.src/M000094.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000094.html');return false;">
          <span class="method-name">overlay_init</span><span class="method-args">(overlay)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initializes the map by adding an overlay (marker or polyline).
</p>
        </div>
      </div>

      <div id="method-M000099" class="method-detail">
        <a name="M000099"></a>

        <div class="method-heading">
          <a href="GMap.src/M000099.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000099.html');return false;">
          <span class="method-name">record_global_init</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Records arbitrary JavaScript code and outputs it during initialization
outside the <tt>load</tt> function (ie globally).
</p>
        </div>
      </div>

      <div id="method-M000088" class="method-detail">
        <a name="M000088"></a>

        <div class="method-heading">
          <a href="GMap.src/M000088.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000088.html');return false;">
          <span class="method-name">record_init</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Records arbitrary JavaScript code and outputs it during initialization
inside the <tt>load</tt> function.
</p>
        </div>
      </div>

      <div id="method-M000097" class="method-detail">
        <a name="M000097"></a>

        <div class="method-heading">
          <a href="GMap.src/M000097.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000097.html');return false;">
          <span class="method-name">set_map_type_init</span><span class="method-args">(map_type)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets the map type displayed by default after the map is loaded. It should
be known from the map (ie either the default map types or a user-defined
map type added with <tt><a
href="GMap.html#M000095">add_map_type_init</a></tt>). Use <tt><a
href="GMap.html#M000097">set_map_type_init</a>(GMapType::G_SATELLITE_MAP)</tt>
or <tt><a
href="GMap.html#M000097">set_map_type_init</a>(GMapType::G_HYBRID_MAP)</tt>
to initialize the map with repsecitvely the Satellite view and the hybrid
view.
</p>
        </div>
      </div>

      <div id="method-M000106" class="method-detail">
        <a name="M000106"></a>

        <div class="method-heading">
          <a href="GMap.src/M000106.html" target="Code" class="method-signature"
            onclick="popupCode('GMap.src/M000106.html');return false;">
          <span class="method-name">to_html</span><span class="method-args">(options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Outputs the initialization code for the map. By default, it outputs the
script tags, performs the initialization in response to the onload event of
the window and makes the map globally available. If you pass <tt>true</tt>
to the option key <tt>:full</tt>, the map will be setup in full screen, in
which case it is not necessary (but not harmful) to set a size for the map
<a href="GMap.html#M000086">div</a>.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>